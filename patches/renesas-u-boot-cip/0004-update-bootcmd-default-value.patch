From 524fc93568d0b53f61b157c6fca8877c2c12010f Mon Sep 17 00:00:00 2001
From: Yazan Shhady <yazan.shhady@solid-run.com>
Date: Tue, 27 Sep 2022 22:48:11 +0300
Subject: [PATCH 4/9] update bootcmd default value

---
 include/configs/rzg2lc-hummingboard.h | 25 ++++++++++++++++---------
 include/configs/smarc-rzg2lc.h        |  5 ++++-
 2 files changed, 20 insertions(+), 10 deletions(-)

diff --git a/include/configs/rzg2lc-hummingboard.h b/include/configs/rzg2lc-hummingboard.h
index c3feee3c72..ee1d674850 100644
--- a/include/configs/rzg2lc-hummingboard.h
+++ b/include/configs/rzg2lc-hummingboard.h
@@ -3,8 +3,8 @@
  * Copyright (C) 2015 Renesas Electronics Corporation
  */
 
-#ifndef __RZG2LC_DEV_H
-#define __RZG2LC_DEV_H
+#ifndef __SMARC_RZG2L_H
+#define __SMARC_RZG2L_H
 
 #include <asm/arch/rmobile.h>
 
@@ -58,16 +58,23 @@
 #define CONFIG_BOARD_SIZE_LIMIT		1048576
 
 /* ENV setting */
-#define CONFIG_EXTRA_ENV_SETTINGS	\
-	"bootm_size=0x10000000\0"
 
-#define CONFIG_BOOTCOMMAND	\
-	"tftp 0x48080000 Image; " \
-	"tftp 0x48000000 Image-"CONFIG_DEFAULT_FDT_FILE"; " \
-	"booti 0x48080000 - 0x48000000"
+#define CONFIG_EXTRA_ENV_SETTINGS \
+	"bootm_size=0x10000000 \0" \
+	"prodsdbootargs=setenv bootargs rw rootwait earlycon root=/dev/mmcblk1p1 \0" \
+	"prodemmcbootargs=setenv bootargs rw rootwait earlycon root=/dev/mmcblk0p1 \0" \
+	"bootimage=unzip 0x4A080000 0x48080000; booti 0x48080000 - 0x48000000 \0" \
+	"emmcload=ext4load mmc 0:1 0x4A080000 boot/Image.gz;ext4load mmc 0:1 0x48000000 boot/r9a07g044l-smarc-rzg2l.dtb;run prodemmcbootargs \0" \
+	"sd1load=ext4load mmc 1:1 0x4A080000 boot/Image.gz;ext4load mmc 1:1 0x48000000 boot/r9a07g044l-smarc-rzg2l.dtb;run prodsdbootargs \0" \
+	"bootcmd_check=if mmc dev 1; then run sd1load; else run emmcload; fi \0"
+
+#define CONFIG_BOOTCOMMAND	"env default -a;run bootcmd_check;run bootimage;" \
+"setenv bootargs 'root=/dev/mmcblk0p2 rootwait' ;echo 'rzg2lc-solidrun';" \
+"mmc dev 0;fatload mmc 0:1 0x48080000 Image; fatload mmc 0:1 0x48000000 r9a07g044c2-smarc.dtb;" \
+"booti 0x48080000 - 0x48000000"
 
 /* For board */
 /* Ethernet RAVB */
 #define CONFIG_BITBANGMII_MULTI
 
-#endif /* __RZG2LC_DEV_H */
+#endif /* __SMARC_RZG2L_H */
diff --git a/include/configs/smarc-rzg2lc.h b/include/configs/smarc-rzg2lc.h
index 6707dba3ea..36f36349fb 100644
--- a/include/configs/smarc-rzg2lc.h
+++ b/include/configs/smarc-rzg2lc.h
@@ -69,7 +69,10 @@
 	"sd1load=ext4load mmc 1:1 0x4A080000 boot/Image.gz;ext4load mmc 1:1 0x48000000 boot/r9a07g044l-smarc-rzg2l.dtb;run prodsdbootargs \0" \
 	"bootcmd_check=if mmc dev 1; then run sd1load; else run emmcload; fi \0"
 
-#define CONFIG_BOOTCOMMAND	"env default -a;run bootcmd_check;run bootimage"
+#define CONFIG_BOOTCOMMAND	"env default -a;run bootcmd_check;run bootimage;" \
+"setenv bootargs 'root=/dev/mmcblk0p2 rootwait' ;echo 'smarc-evk';" \
+"mmc dev 0;fatload mmc 0:1 0x48080000 Image; fatload mmc 0:1 0x48000000 r9a07g044c2-smarc.dtb;" \
+"booti 0x48080000 - 0x48000000"
 
 /* For board */
 /* Ethernet RAVB */
-- 
2.25.1

