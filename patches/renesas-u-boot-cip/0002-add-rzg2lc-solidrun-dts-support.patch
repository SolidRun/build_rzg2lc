From fe83d7085a7fa930d5a2d8c56c5562864efd738b Mon Sep 17 00:00:00 2001
From: Yazan Shhady <yazan.shhady@solid-run.com>
Date: Tue, 27 Sep 2022 04:28:12 +0300
Subject: [PATCH 2/9] add rzg2lc-solidrun dts support

---
 arch/arm/dts/Makefile            |   3 +-
 arch/arm/dts/rzg2lc-solidrun.dts | 110 +++++++++++++++++++++++++++++++
 2 files changed, 112 insertions(+), 1 deletion(-)
 create mode 100644 arch/arm/dts/rzg2lc-solidrun.dts

diff --git a/arch/arm/dts/Makefile b/arch/arm/dts/Makefile
index 7b59d9b4f8..0c8c70d1b6 100644
--- a/arch/arm/dts/Makefile
+++ b/arch/arm/dts/Makefile
@@ -927,11 +927,12 @@ dtb-$(CONFIG_RCAR_GEN3) += \
 	rzv2l-dev.dtb \
 	smarc-rzv2l.dtb \
 	rzg2lc-dev.dtb \
+	rzg2lc-solidrun.dtb \
 	smarc-rzg2lc.dtb \
 	rzg2ul-type1-dev.dtb \
 	rzg2ul-type1-ddr3l-dev.dtb \
 	rzg2ul-type2-dev.dtb \
-	smarc-rzg2ul.dtb 
+	smarc-rzg2ul.dtb
 
 ifdef CONFIG_RCAR_GEN3
 DTC_FLAGS += -R 4 -p 0x1000
diff --git a/arch/arm/dts/rzg2lc-solidrun.dts b/arch/arm/dts/rzg2lc-solidrun.dts
new file mode 100644
index 0000000000..be0dc6bbf7
--- /dev/null
+++ b/arch/arm/dts/rzg2lc-solidrun.dts
@@ -0,0 +1,110 @@
+// SPDX-License-Identifier: GPL-2.0
+/*
+ * Device Tree Source for the GR-Peach board
+ *
+ * Copyright (C) 2017 Jacopo Mondi <jacopo+renesas@jmondi.org>
+ * Copyright (C) 2016 Renesas Electronics
+ */
+
+/dts-v1/;
+#include <dt-bindings/gpio/gpio.h>
+#include "r9a07g044c.dtsi"
+#include "r9a07g044c-u-boot.dtsi"
+#include <dt-bindings/pinctrl/rzg2l-pinctrl.h>
+
+/ {
+	model = "rzg2lc-solidrun";
+	compatible = "solidrun,hummingboard", "solidrun,rzg2lc-som";
+
+	aliases {
+		serial0 = &scif0;
+	};
+
+	chosen {
+		stdout-path = "serial0:115200n8";
+	};
+
+	memory@48000000 {
+		device_type = "memory";
+		/* first 128MB is reserved for secure area. */
+		reg = <0 0x48000000 0 0x38000000>;
+	};
+
+};
+
+&pinctrl {
+	eth0_pins: eth0 {
+		pinmux = <RZG2L_PINMUX(20, 0, 1)>,
+				<RZG2L_PINMUX(20, 1, 1)>,
+				<RZG2L_PINMUX(20, 2, 1)>,
+				<RZG2L_PINMUX(21, 0, 1)>,
+				<RZG2L_PINMUX(21, 1, 1)>,
+				<RZG2L_PINMUX(22, 0, 1)>,
+				<RZG2L_PINMUX(22, 1, 1)>,
+				<RZG2L_PINMUX(23, 0, 1)>,
+				<RZG2L_PINMUX(23, 1, 1)>,
+				<RZG2L_PINMUX(24, 0, 1)>,
+				<RZG2L_PINMUX(24, 1, 1)>,
+				<RZG2L_PINMUX(25, 0, 1)>,
+				<RZG2L_PINMUX(25, 1, 1)>,
+				<RZG2L_PINMUX(26, 0, 1)>,
+				<RZG2L_PINMUX(26, 1, 1)>,
+				<RZG2L_PINMUX(27, 0, 1)>,
+				<RZG2L_PINMUX(27, 1, 1)>,
+				<RZG2L_PINMUX(28, 0, 1)>,
+				<RZG2L_PINMUX(28, 1, 1)>;
+	};
+};
+
+&xinclk {
+        clock-frequency = <24000000>;
+};
+
+&scif0 {
+	status = "okay";
+	clock = <100000000>;
+};
+
+&sdhi0 {
+	/* pinctrl placeholder
+	 * If this channel is used for interfacing with a SD card, a power enable
+	 * pin (SD0_PWR_EN) must be defined.
+	 * The SD0_PWR_EN pin is associated with P4_1.
+	 * A HIGH signal on SD0_PWR_EN will enable supply voltage for SD card.
+	*/
+	bus-width = <8>;
+	status = "okay";
+};
+
+&sdhi1 {
+	/* pinctrl placeholder
+	 * A power enable pin (SD1_PWR_EN) must be defined to interface with a
+	 * SD card.
+	 * The SD1_PWR_EN pin is associated with P39_2.
+	 * A HIGH signal on SD1_PWR_EN will enable supply voltage for SD card.
+	*/
+	bus-width = <4>;
+	status = "okay";
+};
+
+&eth0 {
+	pinctrl-names = "default";
+	pinctrl-0 = <&eth0_pins>;
+	phy-handle = <&phy0>;
+	phy-mode = "rgmii";
+	status = "okay";
+
+	phy0: ethernet-phy@0 {
+		reg = <0>;
+	};
+};
+
+&i2c0 {
+	pinctrl-names = "default";
+	status = "okay";
+
+	adv7535: hdmi@3d {
+		compatible = "adi,adv7535";
+		reg = <0x3d>;
+	};
+};
-- 
2.25.1

